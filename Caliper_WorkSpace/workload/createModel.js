"use strict";

'use strict';

const { WorkloadModuleBase } = require('@hyperledger/caliper-core');

/**
 * Workload module for the benchmark round.
 */
class CreateModelsWorkload extends WorkloadModuleBase {
    constructor() {
        super();
        this.txIndex = 0;
    }

    /**
     * Assemble TXs for the round.
     * @return {Promise<TxStatus[]>}
     */
    async submitTransaction() {
        this.txIndex++;
       // const modelHash =
          //  TEST_MODEL_HASH ||
           // crypto.createHash("sha256").update(crypto.randomBytes(20)).digest("hex");
        // const shardId = Math.floor(Math.random() * this.roundArguments.contractIds.length);
        const group =
            this.roundArguments.assets[this.txIndex % this.roundArguments.contractIds.length];
        //const shardId = parseInt(contractId[contractId.length - 1]);


 if(group==1){

            const request = {
                contractId: 'VSIContract',
                contractFunction: 'ComputeVSI',
               // invokerMspId: 'Org1MSP',
                invokerIdentity: '_Org3MSP_admin3',
               // targetPeers: ['peer0.org1.example.com'],
               // orderer: ['orderer.example.com'],
                contractArguments: ['[[2,2,21.7,12.7,0,0,1,1,-0.41549071694144674,135,1,1.1,0.95],[3,1,2.4,1.2,0,0,1,0.9831382891626137,-1.5220739352776571,135,1,1.05,0.95],[4,1,7.6,1.6,0,0,1,0.98009299543708428,-1.7947276514522128,135,1,1.05,0.95],[5,1,0,0,0,0.19,1,0.98240619684493968,-1.8638226685725436,135,1,1.05,0.95],[6,4,0,0,0,0,1,0.97318402123183445,-2.2669567018140393,135,1,1.05,0.95],[7,4,22.8,10.9,0,0,1,0.96735544778544325,-2.6518367621572443,135,1,1.05,0.95],[12,4,11.2,7.5,0,0,2,0.98546831705080817,-1.5369115769817863,135,1,1.05,0.95]]','[[1,2,0.02,0.06,0.03,130,130,130,0,0,1,-360,360,10.890572859384573,-5.0863687471295549,-10.864279535785426,2.1652487179271138],[1,3,0.05,0.19,0.02,130,130,130,0,0,1,-360,360,15.08323019749378,4.08788450961417,-14.956534996506887,-5.5730036414815611],[2,4,0.06,0.17,0.02,65,65,65,0,0,1,-360,360,16.067334025612457,5.2062109901319555,-15.88932825908568,-6.6624435980108725],[3,4,0.01,0.04,0,130,130,130,0,0,1,-360,360,12.556534972804249,4.3730036605108369,-12.5382443785603,-4.29984128353504],[2,5,0.05,0.2,0.02,130,130,130,0,0,1,-360,360,13.791855118767593,4.5058652540244264,-13.681590208861339,-6.0299275499986091],[2,6,0.06,0.18,0.02,65,65,65,0,0,1,-360,360,20.275090369828238,7.4216570342750181,-19.985888211803655,-8.5011376993821468],[4,6,0.01,0.04,0,90,90,90,0,0,1,-360,360,22.499134638999827,11.384799129710787,-22.432943046237668,-11.120032758662145],[5,7,0.05,0.12,0.01,70,70,70,0,0,1,-360,360,13.681590188745577,6.2133007352091862,-13.561387515134953,-6.87526356752339],[4,12,0,0.26,0,65,65,65,0,0,1,-360,360,-1.6715620287674064,-2.022514220705856,1.6715620287674064,2.0411489354924264]]','[2,2,2,2,2,2,2]',1,0.915],
                readOnly: false,
                timeout:60
            };

            await this.sutAdapter.sendRequests(request);

       } 
       if(group==2){


            const request = {
                contractId: 'VSIContract',
                contractFunction: 'ComputeVSI',
                //invokerMspId: 'Org2MSP',
                invokerIdentity: 'admin1',
                //targetPeers: ['peer0.org2.example.com'],
                //orderer: ['orderer.example.com'],
                contractArguments: ['[[6,1,0,0,0,0,1,0.97318402123183445,-2.2669567018140393,135,1,1.05,0.95],[7,1,22.8,10.9,0,0,1,0.96735544778544325,-2.6518367621572443,135,1,1.05,0.95],[8,1,30,30,0,0,1,0.96062370839089473,-2.7257694314210705,135,1,1.05,0.95],[9,1,0,0,0,0,1,0.980506117113015,-2.9969330898984055,135,1,1.05,0.95],[11,1,0,0,0,0,1,0.980506117113015,-2.9969330898984055,135,1,1.05,0.95],[22,2,0,0,0,0,3,1,-3.3927290091190652,135,1,1.1,0.95],[23,2,3.2,1.6,0,0,2,0.99999999999999989,-1.5892279158943476,135,1,1.1,0.95],[24,1,8.7,6.7,0,0.04,3,0.98856629619483927,-2.6314614642990253,135,1,1.05,0.95],[25,1,0,0,0,0,3,0.99021483690189571,-1.6899888838161448,135,1,1.05,0.95],[26,1,3.5,2.3,0,0,3,0.97219414980271612,-2.139345979074776,135,1,1.05,0.95],[27,2,0,0,0,0,3,1,-0.82843931566400286,135,1,1.1,0.95],[28,1,0,0,0,0,1,0.97471489982255,-2.2659286217634467,135,1,1.05,0.95],[29,1,2.4,0.9,0,0,3,0.97959670467788773,-2.1284981720066751,135,1,1.05,0.95],[30,1,10.6,1.9,0,0,3,0.96788287920664551,-3.0415235736977548,135,1,1.05,0.95],[2,4,21.7,12.7,0,0,1,1,-0.41549071694144674,135,1,1.1,0.95],[4,4,7.6,1.6,0,0,1,0.98009299543708428,-1.7947276514522128,135,1,1.05,0.95],[5,4,0,0,0,0.19,1,0.98240619684493968,-1.8638226685725436,135,1,1.05,0.95],[10,4,5.8,2,0,0,3,0.98440429582192568,-3.374935940353081,135,1,1.05,0.95],[15,4,8.2,2.5,0,0,2,0.98022902895150321,-2.3118353858295464,135,1,1.05,0.95],[21,4,17.5,11.2,0,0,3,0.99338329677011283,-3.488393316096015,135,1,1.05,0.95]]','[[2,6,0.06,0.18,0.02,65,65,65,0,0,1,-360,360,20.275090369828238,7.4216570342750181,-19.985888211803655,-8.5011376993821468],[4,6,0.01,0.04,0,90,90,90,0,0,1,-360,360,22.499134638999827,11.384799129710787,-22.432943046237668,-11.120032758662145],[5,7,0.05,0.12,0.01,70,70,70,0,0,1,-360,360,13.681590188745577,6.2133007352091862,-13.561387515134953,-6.87526356752339],[6,7,0.03,0.08,0.01,130,130,130,0,0,1,-360,360,9.2700312010680719,3.1670879394593578,-9.2386124417532862,-4.0247364320573729],[6,8,0.01,0.04,0,32,32,32,0,0,1,-360,360,24.822309914696259,24.428096383288725,-24.694245778648398,-23.915839839097295],[6,9,0,0.21,0,65,65,65,0,0,1,-360,360,5.788958195274077,-3.3563351357290929,-5.7889581952740778,3.4556203476413105],[6,10,0,0.56,0,32,32,32,0,0,1,-360,360,3.3079761144003439,-1.9179057898730953,-3.3079761144003439,2.0043582193586551],[9,11,0,0.21,0,65,65,65,0,0,1,-360,360,0,0,0,0],[9,10,0,0.11,0,65,65,65,0,0,1,-360,360,5.7889582098413221,-3.4556203377106272,-5.7889582098413221,3.5076268773981387],[10,22,0.07,0.15,0,32,32,32,0,0,1,-360,360,-3.7547973995912787,-8.4827150277718619,3.8169596795973315,8.6159199134991162],[21,22,0.01,0.02,0,32,32,32,0,0,1,-360,360,-19.777510575982134,-22.968933781900567,19.870610716352104,23.155134062640503],[15,23,0.1,0.2,0,16,16,16,0,0,1,-360,360,-8.8053057695808654,-5.2484088217916272,8.9146665644738068,5.4671304115775126],[22,24,0.12,0.18,0,16,16,16,0,0,1,-360,360,-2.0975703929598817,7.79891387548138,2.1758378239885992,-7.6815127289383032],[23,24,0.13,0.27,0,16,16,16,0,0,1,-360,360,7.0853334402423513,0.88382208223155934,-7.0190554213801573,-0.746167735363926],[24,25,0.19,0.33,0,16,16,16,0,0,1,-360,360,-3.8567824023757415,1.7667709973101655,3.8917707977427045,-1.7060016790412273],[25,26,0.25,0.38,0,16,16,16,0,0,1,-360,360,3.5463941891997197,2.3705191678052078,-3.4999999998212488,-2.2999999999499332],[25,27,0.11,0.21,0,16,16,16,0,0,1,-360,360,-7.4381649869732653,-0.66451748839422842,7.5007280461246575,0.78395605586507044],[28,27,0,0.4,0,65,65,65,0,0,1,-360,360,-6.1129950107019972,-6.0847527234014525,6.1129950107019981,6.3979632925776038],[27,29,0.22,0.42,0,16,16,16,0,0,1,-360,360,6.1738820022100853,1.684027811149948,-6.0837859111890182,-1.5120261828369996],[27,30,0.32,0.6,0,16,16,16,0,0,1,-360,360,7.1223949476710375,1.6745629309471994,-6.9510904011100383,-1.3533669061453248],[29,30,0.24,0.45,0,16,16,16,0,0,1,-360,360,3.6837859095949388,0.61202618473229742,-3.6489095936350364,-0.54663309230748],[8,28,0.06,0.2,0.02,32,32,32,0,0,1,-360,360,-5.3057541256515695,-6.0841601432048611,5.3413788402797362,4.3300421469067443],[6,28,0.02,0.06,0.01,32,32,32,0,0,1,-360,360,-0.77044423318773525,-2.6997728755712673,0.77161618052172576,1.7547105800147584]]','[2,2,2,2,2,2,2,2,2,2,2,2,2,2]',2,0.765],
                readOnly: false,
                timeout:60
            };

            await this.sutAdapter.sendRequests(request);
    }
        
       if(group==3){

            const request = {
                contractId: 'VSIContract',
                contractFunction: 'ComputeVSI',
                //invokerMspId: 'Org3MSP',
                //targetPeers: ['peer0.org3.example.com'],
               // orderer: ['orderer.example.com'],
                invokerIdentity: '_Org5MSP_admin5',
                contractArguments: ['[[10,1,5.8,2,0,0,3,0.98440429582192568,-3.374935940353081,135,1,1.05,0.95],[12,1,11.2,7.5,0,0,2,0.98546831705080817,-1.5369115769817863,135,1,1.05,0.95],[13,2,0,0,0,0,2,0.99999999999999989,1.4761632585120132,135,1,1.1,0.95],[14,1,6.2,1.6,0,0,2,0.97667683410281825,-2.3080354233838052,135,1,1.05,0.95],[15,1,8.2,2.5,0,0,2,0.98022902895150321,-2.3118353858295464,135,1,1.05,0.95],[16,1,3.5,1.8,0,0,2,0.97739565521200744,-2.6444862033358256,135,1,1.05,0.95],[17,1,9,5.8,0,0,2,0.97686540992422,-3.3923392109339221,135,1,1.05,0.95],[18,1,3.2,0.9,0,0,2,0.968440329143004,-3.4783877130697705,135,1,1.05,0.95],[19,1,9.5,3.4,0,0,2,0.96528703968246943,-3.9582046848764683,135,1,1.05,0.95],[20,1,2.2,0.7,0,0,2,0.96916635081891667,-3.8710243212629782,135,1,1.05,0.95],[21,1,17.5,11.2,0,0,3,0.99338329677011283,-3.488393316096015,135,1,1.05,0.95],[4,4,7.6,1.6,0,0,1,0.98009299543708428,-1.7947276514522128,135,1,1.05,0.95],[6,4,0,0,0,0,1,0.97318402123183445,-2.2669567018140393,135,1,1.05,0.95],[9,4,0,0,0,0,1,0.980506117113015,-2.9969330898984055,135,1,1.05,0.95],[22,4,0,0,0,0,3,1,-3.3927290091190652,135,1,1.1,0.95],[23,4,3.2,1.6,0,0,2,0.99999999999999989,-1.5892279158943476,135,1,1.1,0.95]]','[[6,10,0,0.56,0,32,32,32,0,0,1,-360,360,3.3079761144003439,-1.9179057898730953,-3.3079761144003439,2.0043582193586551],[9,10,0,0.11,0,65,65,65,0,0,1,-360,360,5.7889582098413221,-3.4556203377106272,-5.7889582098413221,3.5076268773981387],[4,12,0,0.26,0,65,65,65,0,0,1,-360,360,-1.6715620287674064,-2.022514220705856,1.6715620287674064,2.0411489354924264],[12,13,0,0.14,0,65,65,65,0,0,1,-360,360,-36.999999996503263,-9.25583427143715,36.999999996503263,11.352877220739757],[12,14,0.12,0.26,0,32,32,32,0,0,1,-360,360,5.387777267210776,0.87906298887284362,-5.3509537532210825,-0.79927870856184058],[12,15,0.07,0.13,0,32,32,32,0,0,1,-360,360,9.4770292344672313,-1.0633985223146971,-9.41147646339225,1.1851393828825199],[12,16,0.09,0.2,0,32,32,32,0,0,1,-360,360,9.26363145964912,-0.10097910020286534,-9.1840940732410736,0.27772884777630075],[14,15,0.22,0.2,0,16,16,16,0,0,1,-360,360,-0.84904624193707789,-0.80072129056834707,0.85218753814458492,0.80357701439335349],[16,17,0.08,0.19,0,16,16,16,0,0,1,-360,360,5.684094077085514,-2.077728844717285,-5.65342241731779,2.1505740366656307],[15,18,0.11,0.22,0,16,16,16,0,0,1,-360,360,9.1645947041606952,0.75969242956751382,-9.0677807131327519,-0.56606444751162932],[18,19,0.06,0.13,0,16,16,16,0,0,1,-360,360,5.8677807140307854,-0.33393554842828521,-5.8456824801014449,0.38181505527519011],[19,20,0.03,0.07,0,32,32,32,0,0,1,-360,360,-3.6543175028403994,-3.7818150587122084,3.663221811534576,3.8025917789986194],[10,20,0.09,0.21,0,32,32,32,0,0,1,-360,360,5.9155868733480492,4.6247769164973445,-5.8632218132946958,-4.5025917763728547],[10,17,0.03,0.08,0,32,32,32,0,0,1,-360,360,3.3699708041460328,8.012955978116711,-3.346577576244361,-7.9505740370455866],[10,21,0.03,0.07,0,32,32,32,0,0,1,-360,360,-2.2338259389290225,-11.667002952171647,2.2775105800319513,11.768933781411816],[10,22,0.07,0.15,0,32,32,32,0,0,1,-360,360,-3.7547973995912787,-8.4827150277718619,3.8169596795973315,8.6159199134991162],[21,22,0.01,0.02,0,32,32,32,0,0,1,-360,360,-19.777510575982134,-22.968933781900567,19.870610716352104,23.155134062640503],[15,23,0.1,0.2,0,16,16,16,0,0,1,-360,360,-8.8053057695808654,-5.2484088217916272,8.9146665644738068,5.4671304115775126]]','[2,2,2,2,2,2,2,2,2,2,2]',3,0.846],
                readOnly: false,
                timeout:60
            };
     await this.sutAdapter.sendRequests(request);
        }
    }
}

/**
 * Create a new instance of the workload module.
 * @return {WorkloadModuleInterface}
 */
function createWorkloadModule() {
    return new CreateModelsWorkload();
}

module.exports.createWorkloadModule = createWorkloadModule;
